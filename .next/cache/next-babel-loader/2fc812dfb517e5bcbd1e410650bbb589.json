{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"E:\\\\dev\\\\quantit_study\\\\dw-next-github\\\\pages\\\\users\\\\[name].jsx\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport dotenv from \"dotenv\";\nimport Profile from \"../../components/Profile\";\nimport Repositories from \"../../components/Repositories\";\ndotenv.config();\nvar style = new String(\".user-contents-wrapper.jsx-3830800604{padding:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxkZXZcXHF1YW50aXRfc3R1ZHlcXGR3LW5leHQtZ2l0aHViXFxwYWdlc1xcdXNlcnNcXFtuYW1lXS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBU2lCLEFBR2tCLGFBQ0EsMEVBQ2YiLCJmaWxlIjoiRTpcXGRldlxccXVhbnRpdF9zdHVkeVxcZHctbmV4dC1naXRodWJcXHBhZ2VzXFx1c2Vyc1xcW25hbWVdLmpzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy11bmZldGNoXCI7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzXG5pbXBvcnQgY3NzIGZyb20gXCJzdHlsZWQtanN4L2Nzc1wiO1xuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCI7XG5pbXBvcnQgUHJvZmlsZSBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9Qcm9maWxlXCI7XG5pbXBvcnQgUmVwb3NpdG9yaWVzIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL1JlcG9zaXRvcmllc1wiO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5cbmNvbnN0IHN0eWxlID0gY3NzYFxuICAudXNlci1jb250ZW50cy13cmFwcGVyIHtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbmA7XG5cbmNvbnN0IG5hbWUgPSAoeyB1c2VyLCByZXBvcyB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ1c2VyLWNvbnRlbnRzLXdyYXBwZXJcIj5cbiAgICAgIDxQcm9maWxlIHVzZXI9e3VzZXJ9IC8+XG4gICAgICA8UmVwb3NpdG9yaWVzIHVzZXI9e3VzZXJ9IHJlcG9zPXtyZXBvc30gLz5cbiAgICAgIDxzdHlsZSBqc3g+e3N0eWxlfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gYXN5bmMgKHsgcXVlcnkgfSkgPT4ge1xuICBjb25zdCB7IG5hbWUsIHBhZ2UgPSBcIjFcIiB9ID0gcXVlcnk7XG4gIHRyeSB7XG4gICAgbGV0IHVzZXI7XG4gICAgbGV0IHJlcG9zO1xuICAgIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuVE9LRU47XG4gICAgY29uc29sZS5sb2codG9rZW4pO1xuXG4gICAgY29uc3QgdXNlclJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzLyR7bmFtZX1gLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGB0b2tlbiAke3Rva2VufWAsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGlmICh1c2VyUmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICB1c2VyID0gYXdhaXQgdXNlclJlcy5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKHVzZXJSZXMuc3RhdHVzVGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IHJlcG9SZXMgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS5naXRodWIuY29tL3VzZXJzLyR7bmFtZX0vcmVwb3M/c29ydD11cGRhdGVkJnBhZ2U9JHtwYWdlfSZwZXJfcGFnZT0xMGAsXG4gICAgICB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgdG9rZW4gJHt0b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHJlcG9SZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgIHJlcG9zID0gYXdhaXQgcmVwb1Jlcy5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKHVzZXJSZXMuc3RhdHVzVGV4dCk7XG4gICAgfVxuICAgIHJldHVybiB7IHByb3BzOiB7IHVzZXIsIHJlcG9zIH0gfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7XG4gICAgcmV0dXJuIHsgcHJvcHM6IHt9IH07XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IG5hbWU7XG4iXX0= */\\n/*@ sourceURL=E:\\\\\\\\dev\\\\\\\\quantit_study\\\\\\\\dw-next-github\\\\\\\\pages\\\\\\\\users\\\\\\\\[name].jsx */\");\nstyle.__hash = \"3830800604\";\n\nvar name = function name(_ref) {\n  var user = _ref.user,\n      repos = _ref.repos;\n  return __jsx(\"div\", {\n    className: \"jsx-\".concat(style.__hash) + \" \" + \"user-contents-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, __jsx(Profile, {\n    user: user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }), __jsx(Repositories, {\n    user: user,\n    repos: repos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }), __jsx(_JSXStyle, {\n    id: style.__hash,\n    __self: _this\n  }, style));\n};\n\nexport var __N_SSP = true;\nexport default name;","map":{"version":3,"sources":["E:/dev/quantit_study/dw-next-github/pages/users/[name].jsx"],"names":["dotenv","Profile","Repositories","config","style","name","user","repos"],"mappings":";;;;;;AACA;AAEA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AAEAF,MAAM,CAACG,MAAP;AAEA,IAAMC,KAAK,uvFAAX;;;AAOA,IAAMC,IAAI,GAAG,SAAPA,IAAO,OAAqB;AAAA,MAAlBC,IAAkB,QAAlBA,IAAkB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAChC,SACE;AAAA,mDAAe,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,OAAD;AAAS,IAAA,IAAI,EAAED,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,YAAD;AAAc,IAAA,IAAI,EAAEA,IAApB;AAA0B,IAAA,KAAK,EAAEC,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF;AAAA;AAAA;AAAA,YADF;AAOD,CARD;;;AAgDA,eAAeF,IAAf","sourcesContent":["import fetch from \"isomorphic-unfetch\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport css from \"styled-jsx/css\";\nimport dotenv from \"dotenv\";\nimport Profile from \"../../components/Profile\";\nimport Repositories from \"../../components/Repositories\";\n\ndotenv.config();\n\nconst style = css`\n  .user-contents-wrapper {\n    padding: 20px;\n    display: flex;\n  }\n`;\n\nconst name = ({ user, repos }) => {\n  return (\n    <div className=\"user-contents-wrapper\">\n      <Profile user={user} />\n      <Repositories user={user} repos={repos} />\n      <style jsx>{style}</style>\n    </div>\n  );\n};\n\nexport const getServerSideProps = async ({ query }) => {\n  const { name, page = \"1\" } = query;\n  try {\n    let user;\n    let repos;\n    const token = process.env.TOKEN;\n    console.log(token);\n\n    const userRes = await fetch(`https://api.github.com/users/${name}`, {\n      headers: {\n        Authorization: `token ${token}`,\n      },\n    });\n    if (userRes.status === 200) {\n      user = await userRes.json();\n    } else {\n      throw Error(userRes.statusText);\n    }\n    const repoRes = await fetch(\n      `https://api.github.com/users/${name}/repos?sort=updated&page=${page}&per_page=10`,\n      {\n        headers: {\n          Authorization: `token ${token}`,\n        },\n      }\n    );\n    if (repoRes.status === 200) {\n      repos = await repoRes.json();\n    } else {\n      throw Error(userRes.statusText);\n    }\n    return { props: { user, repos } };\n  } catch (e) {\n    console.log(e.message);\n    return { props: {} };\n  }\n};\n\nexport default name;\n"]},"metadata":{},"sourceType":"module"}