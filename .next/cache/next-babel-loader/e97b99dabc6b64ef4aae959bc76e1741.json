{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from \"isomorphic-unfetch\"; // eslint-disable-next-line import/no-extraneous-dependencies\n\nimport Profile from \"../../components/Profile\";\nimport Repositories from \"../../components/Repositories\";\nconst style = [\".user-contents-wrapper.jsx-3830800604{padding:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"];\nstyle.__hash = \"3830800604\";\n\nconst name = ({\n  user,\n  repos\n}) => {\n  return __jsx(\"div\", {\n    className: `jsx-${style.__hash}` + \" \" + \"user-contents-wrapper\"\n  }, __jsx(Profile, {\n    user: user\n  }), __jsx(Repositories, {\n    user: user,\n    repos: repos\n  }), __jsx(_JSXStyle, {\n    id: style.__hash\n  }, style));\n};\n\nexport const getServerSideProps = async ({\n  query\n}) => {\n  const {\n    name,\n    page = \"1\"\n  } = query;\n\n  try {\n    let user;\n    let repos;\n    const userRes = await fetch(`https://api.github.com/users/${name}`, {\n      headers: {\n        Authorization: \"token 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\"\n      }\n    });\n\n    if (userRes.status === 200) {\n      user = await userRes.json();\n    } else {\n      throw Error(userRes.statusText);\n    }\n\n    const repoRes = await fetch(`https://api.github.com/users/${name}/repos?sort=updated&page=${page}&per_page=10`, {\n      headers: {\n        Authorization: \"token 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\"\n      }\n    });\n\n    if (repoRes.status === 200) {\n      repos = await repoRes.json();\n    } else {\n      throw Error(userRes.statusText);\n    }\n\n    return {\n      props: {\n        user,\n        repos\n      }\n    };\n  } catch (e) {\n    console.log(e.message);\n    return {\n      props: {}\n    };\n  }\n};\nexport default name;","map":null,"metadata":{},"sourceType":"module"}